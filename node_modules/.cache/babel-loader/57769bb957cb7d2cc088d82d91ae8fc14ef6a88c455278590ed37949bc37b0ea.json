{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport useSWR from 'swr';\nimport getLangFromPath from '../util/getLangFromPath';\nasync function explanationFetcher(_ref) {\n  let [url, {\n    text,\n    path\n  }] = _ref;\n  const {\n    data\n  } = await axios.post(url, {\n    text,\n    language: getLangFromPath(path)\n  });\n  const choice = data && data.choices && data.choices[0] && data.choices[0];\n  return choice.text.trim();\n}\nexport default function useExplanation(_ref2) {\n  _s();\n  let {\n    text,\n    path\n  } = _ref2;\n  const {\n    data,\n    error,\n    isLoading\n  } = useSWR([`/api/explain`, {\n    text,\n    path\n  }], explanationFetcher);\n  return {\n    isLoading,\n    error,\n    explanation: data\n  };\n}\n_s(useExplanation, \"3etLDUffADz62tD7g9gJKxYxEy4=\", false, function () {\n  return [useSWR];\n});","map":{"version":3,"names":["axios","useSWR","getLangFromPath","explanationFetcher","url","text","path","data","post","language","choice","choices","trim","useExplanation","error","isLoading","explanation"],"sources":["/Users/goktugkoyun/Desktop/Projects/fetch/src/hooks/useExplanation.js"],"sourcesContent":["import axios from 'axios';\nimport useSWR from 'swr';\nimport getLangFromPath from '../util/getLangFromPath';\n\nasync function explanationFetcher([url, { text, path }]) {\n  const { data } = await axios.post(url, {\n    text,\n    language: getLangFromPath(path),\n  });\n  const choice = data && data.choices && data.choices[0] && data.choices[0];\n\n  return choice.text.trim();\n}\n\nexport default function useExplanation({ text, path }) {\n  const { data, error, isLoading } = useSWR(\n    [`/api/explain`, { text, path }],\n    explanationFetcher\n  );\n\n  return {\n    isLoading,\n    error,\n    explanation: data,\n  };\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,KAAK;AACxB,OAAOC,eAAe,MAAM,yBAAyB;AAErD,eAAeC,kBAAkB,OAAwB;EAAA,IAAvB,CAACC,GAAG,EAAE;IAAEC,IAAI;IAAEC;EAAK,CAAC,CAAC;EACrD,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAACJ,GAAG,EAAE;IACrCC,IAAI;IACJI,QAAQ,EAAEP,eAAe,CAACI,IAAI;EAChC,CAAC,CAAC;EACF,MAAMI,MAAM,GAAGH,IAAI,IAAIA,IAAI,CAACI,OAAO,IAAIJ,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC,IAAIJ,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC;EAEzE,OAAOD,MAAM,CAACL,IAAI,CAACO,IAAI,EAAE;AAC3B;AAEA,eAAe,SAASC,cAAc,QAAiB;EAAA;EAAA,IAAhB;IAAER,IAAI;IAAEC;EAAK,CAAC;EACnD,MAAM;IAAEC,IAAI;IAAEO,KAAK;IAAEC;EAAU,CAAC,GAAGd,MAAM,CACvC,CAAE,cAAa,EAAE;IAAEI,IAAI;IAAEC;EAAK,CAAC,CAAC,EAChCH,kBAAkB,CACnB;EAED,OAAO;IACLY,SAAS;IACTD,KAAK;IACLE,WAAW,EAAET;EACf,CAAC;AACH;AAAC,GAXuBM,cAAc;EAAA,QACDZ,MAAM;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}