{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport useSWR from 'swr';\nasync function filesFetcher(url) {\n  const {\n    data\n  } = await axios.get(url);\n  if (data.type === 'file') {\n    return data;\n  }\n  data.entries.sort((a, b) => {\n    if (a.type === 'file' && b.type === 'dir') {\n      return 1;\n    }\n    if (a.type === 'dir' && b.type === 'file') {\n      return -1;\n    }\n    return a.name.localeCompare(b.name);\n  });\n  return data;\n}\nexport default function useEntry(_ref) {\n  _s();\n  let {\n    repoName,\n    owner,\n    path,\n    shouldFetch\n  } = _ref;\n  const _shouldFetch = shouldFetch !== null && shouldFetch !== void 0 ? shouldFetch : true;\n  const {\n    data,\n    error,\n    isLoading\n  } = useSWR(_shouldFetch && `/api/repositories/${owner}/${repoName}/contents/${path}`, filesFetcher);\n  return {\n    isLoading,\n    error,\n    entry: data\n  };\n}\n_s(useEntry, \"3etLDUffADz62tD7g9gJKxYxEy4=\", false, function () {\n  return [useSWR];\n});","map":{"version":3,"names":["axios","useSWR","filesFetcher","url","data","get","type","entries","sort","a","b","name","localeCompare","useEntry","repoName","owner","path","shouldFetch","_shouldFetch","error","isLoading","entry"],"sources":["/Users/goktugkoyun/Desktop/Projects/fetch/src/hooks/useEntry.js"],"sourcesContent":["import axios from 'axios';\nimport useSWR from 'swr';\n\nasync function filesFetcher(url) {\n  const { data } = await axios.get(url);\n\n  if (data.type === 'file') {\n    return data;\n  }\n\n  data.entries.sort((a, b) => {\n    if (a.type === 'file' && b.type === 'dir') {\n      return 1;\n    }\n    if (a.type === 'dir' && b.type === 'file') {\n      return -1;\n    }\n    return a.name.localeCompare(b.name);\n  });\n\n  return data;\n}\n\nexport default function useEntry({ repoName, owner, path, shouldFetch }) {\n  const _shouldFetch = shouldFetch ?? true;\n  const { data, error, isLoading } = useSWR(\n    _shouldFetch && `/api/repositories/${owner}/${repoName}/contents/${path}`,\n    filesFetcher\n  );\n\n  return {\n    isLoading,\n    error,\n    entry: data,\n  };\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,KAAK;AAExB,eAAeC,YAAY,CAACC,GAAG,EAAE;EAC/B,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAACF,GAAG,CAAC;EAErC,IAAIC,IAAI,CAACE,IAAI,KAAK,MAAM,EAAE;IACxB,OAAOF,IAAI;EACb;EAEAA,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IAC1B,IAAID,CAAC,CAACH,IAAI,KAAK,MAAM,IAAII,CAAC,CAACJ,IAAI,KAAK,KAAK,EAAE;MACzC,OAAO,CAAC;IACV;IACA,IAAIG,CAAC,CAACH,IAAI,KAAK,KAAK,IAAII,CAAC,CAACJ,IAAI,KAAK,MAAM,EAAE;MACzC,OAAO,CAAC,CAAC;IACX;IACA,OAAOG,CAAC,CAACE,IAAI,CAACC,aAAa,CAACF,CAAC,CAACC,IAAI,CAAC;EACrC,CAAC,CAAC;EAEF,OAAOP,IAAI;AACb;AAEA,eAAe,SAASS,QAAQ,OAAyC;EAAA;EAAA,IAAxC;IAAEC,QAAQ;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EAAY,CAAC;EACrE,MAAMC,YAAY,GAAGD,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAI,IAAI;EACxC,MAAM;IAAEb,IAAI;IAAEe,KAAK;IAAEC;EAAU,CAAC,GAAGnB,MAAM,CACvCiB,YAAY,IAAK,qBAAoBH,KAAM,IAAGD,QAAS,aAAYE,IAAK,EAAC,EACzEd,YAAY,CACb;EAED,OAAO;IACLkB,SAAS;IACTD,KAAK;IACLE,KAAK,EAAEjB;EACT,CAAC;AACH;AAAC,GAZuBS,QAAQ;EAAA,QAEKZ,MAAM;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}