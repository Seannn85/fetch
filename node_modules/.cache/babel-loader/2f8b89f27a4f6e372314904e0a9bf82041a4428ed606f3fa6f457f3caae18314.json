{"ast":null,"code":"var _jsxFileName = \"/Users/goktugkoyun/Desktop/Projects/fetch/src/components/editor/Editor.js\";\nimport React from 'react';\nimport MonacoEditor from '@monaco-editor/react';\nimport getLangFromPath from '../../util/getLangFromPath';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Editor(_ref) {\n  let {\n    file,\n    onExplainRequest\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative pt-1\",\n    style: {\n      backgroundColor: '#1e1e1e'\n    },\n    children: /*#__PURE__*/_jsxDEV(MonacoEditor, {\n      height: \"calc(100vh - 88px)\",\n      theme: \"vs-dark\",\n      path: file.path,\n      defaultValue: file.content,\n      defaultLanguage: getLangFromPath(file.path),\n      options: {\n        minimap: {\n          enabled: false\n        },\n        glyphMargin: true,\n        lineNumbersMinChars: 1\n      },\n      onValidate: () => {},\n      onMount: editor => {\n        // For debugging\n        window.ed = editor;\n        const explainCode = () => {\n          const selectedRange = editor.getSelection();\n          const text = editor.getModel().getValueInRange(selectedRange);\n          onExplainRequest({\n            path: editor.getModel().uri.path,\n            text,\n            editor,\n            line: selectedRange.endLineNumber\n          });\n        };\n        editor.addOverlayWidget({\n          domNode: null,\n          getId: () => 'explain-code-widget',\n          getDomNode: () => {\n            const {\n              height\n            } = editor.getContainerDomNode().getBoundingClientRect();\n            const domNode = document.createElement('div');\n            domNode.style.position = 'absolute';\n            domNode.style.top = `${height - 95}px`;\n            domNode.style.right = '40px';\n            domNode.classList.add('z-50');\n            const button = document.createElement('button');\n            button.classList.add('bg-blue-500', 'text-white', 'p-3', 'rounded', 'font-bold', 'text-xl');\n            button.innerText = 'Explain Code';\n            button.addEventListener('click', explainCode);\n            domNode.appendChild(button);\n            return domNode;\n          },\n          getPosition: () => null\n        });\n        editor.addAction({\n          id: 'explain-code',\n          label: 'Explain This Code',\n          keybindings: [],\n          precondition: null,\n          keybindingContext: null,\n          contextMenuGroupId: 'modification',\n          contextMenuOrder: 1,\n          run: explainCode\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n_c = Editor;\nexport default Editor;\nvar _c;\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"names":["React","MonacoEditor","getLangFromPath","Editor","file","onExplainRequest","backgroundColor","path","content","minimap","enabled","glyphMargin","lineNumbersMinChars","editor","window","ed","explainCode","selectedRange","getSelection","text","getModel","getValueInRange","uri","line","endLineNumber","addOverlayWidget","domNode","getId","getDomNode","height","getContainerDomNode","getBoundingClientRect","document","createElement","style","position","top","right","classList","add","button","innerText","addEventListener","appendChild","getPosition","addAction","id","label","keybindings","precondition","keybindingContext","contextMenuGroupId","contextMenuOrder","run"],"sources":["/Users/goktugkoyun/Desktop/Projects/fetch/src/components/editor/Editor.js"],"sourcesContent":["import React from 'react';\nimport MonacoEditor from '@monaco-editor/react';\nimport getLangFromPath from '../../util/getLangFromPath';\n\nfunction Editor({ file, onExplainRequest }) {\n  return (\n    <div className=\"relative pt-1\" style={{ backgroundColor: '#1e1e1e' }}>\n      <MonacoEditor\n        height=\"calc(100vh - 88px)\"\n        theme=\"vs-dark\"\n        path={file.path}\n        defaultValue={file.content}\n        defaultLanguage={getLangFromPath(file.path)}\n        options={{\n          minimap: { enabled: false },\n          glyphMargin: true,\n          lineNumbersMinChars: 1,\n        }}\n        onValidate={() => {}}\n        onMount={(editor) => {\n          // For debugging\n          window.ed = editor;\n\n          const explainCode = () => {\n            const selectedRange = editor.getSelection();\n            const text = editor.getModel().getValueInRange(selectedRange);\n\n            onExplainRequest({\n              path: editor.getModel().uri.path,\n              text,\n              editor,\n              line: selectedRange.endLineNumber,\n            });\n          };\n\n          editor.addOverlayWidget({\n            domNode: null,\n            getId: () => 'explain-code-widget',\n            getDomNode: () => {\n              const { height } = editor\n                .getContainerDomNode()\n                .getBoundingClientRect();\n              const domNode = document.createElement('div');\n              domNode.style.position = 'absolute';\n              domNode.style.top = `${height - 95}px`;\n              domNode.style.right = '40px';\n              domNode.classList.add('z-50');\n              const button = document.createElement('button');\n              button.classList.add(\n                'bg-blue-500',\n                'text-white',\n                'p-3',\n                'rounded',\n                'font-bold',\n                'text-xl'\n              );\n              button.innerText = 'Explain Code';\n              button.addEventListener('click', explainCode);\n              domNode.appendChild(button);\n              return domNode;\n            },\n            getPosition: () => null,\n          });\n\n          editor.addAction({\n            id: 'explain-code',\n            label: 'Explain This Code',\n            keybindings: [],\n            precondition: null,\n            keybindingContext: null,\n            contextMenuGroupId: 'modification',\n            contextMenuOrder: 1,\n            run: explainCode,\n          });\n        }}\n      />\n    </div>\n  );\n}\n\nexport default Editor;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,eAAe,MAAM,4BAA4B;AAAC;AAEzD,SAASC,MAAM,OAA6B;EAAA,IAA5B;IAAEC,IAAI;IAAEC;EAAiB,CAAC;EACxC,oBACE;IAAK,SAAS,EAAC,eAAe;IAAC,KAAK,EAAE;MAAEC,eAAe,EAAE;IAAU,CAAE;IAAA,uBACnE,QAAC,YAAY;MACX,MAAM,EAAC,oBAAoB;MAC3B,KAAK,EAAC,SAAS;MACf,IAAI,EAAEF,IAAI,CAACG,IAAK;MAChB,YAAY,EAAEH,IAAI,CAACI,OAAQ;MAC3B,eAAe,EAAEN,eAAe,CAACE,IAAI,CAACG,IAAI,CAAE;MAC5C,OAAO,EAAE;QACPE,OAAO,EAAE;UAAEC,OAAO,EAAE;QAAM,CAAC;QAC3BC,WAAW,EAAE,IAAI;QACjBC,mBAAmB,EAAE;MACvB,CAAE;MACF,UAAU,EAAE,MAAM,CAAC,CAAE;MACrB,OAAO,EAAGC,MAAM,IAAK;QACnB;QACAC,MAAM,CAACC,EAAE,GAAGF,MAAM;QAElB,MAAMG,WAAW,GAAG,MAAM;UACxB,MAAMC,aAAa,GAAGJ,MAAM,CAACK,YAAY,EAAE;UAC3C,MAAMC,IAAI,GAAGN,MAAM,CAACO,QAAQ,EAAE,CAACC,eAAe,CAACJ,aAAa,CAAC;UAE7DZ,gBAAgB,CAAC;YACfE,IAAI,EAAEM,MAAM,CAACO,QAAQ,EAAE,CAACE,GAAG,CAACf,IAAI;YAChCY,IAAI;YACJN,MAAM;YACNU,IAAI,EAAEN,aAAa,CAACO;UACtB,CAAC,CAAC;QACJ,CAAC;QAEDX,MAAM,CAACY,gBAAgB,CAAC;UACtBC,OAAO,EAAE,IAAI;UACbC,KAAK,EAAE,MAAM,qBAAqB;UAClCC,UAAU,EAAE,MAAM;YAChB,MAAM;cAAEC;YAAO,CAAC,GAAGhB,MAAM,CACtBiB,mBAAmB,EAAE,CACrBC,qBAAqB,EAAE;YAC1B,MAAML,OAAO,GAAGM,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;YAC7CP,OAAO,CAACQ,KAAK,CAACC,QAAQ,GAAG,UAAU;YACnCT,OAAO,CAACQ,KAAK,CAACE,GAAG,GAAI,GAAEP,MAAM,GAAG,EAAG,IAAG;YACtCH,OAAO,CAACQ,KAAK,CAACG,KAAK,GAAG,MAAM;YAC5BX,OAAO,CAACY,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;YAC7B,MAAMC,MAAM,GAAGR,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;YAC/CO,MAAM,CAACF,SAAS,CAACC,GAAG,CAClB,aAAa,EACb,YAAY,EACZ,KAAK,EACL,SAAS,EACT,WAAW,EACX,SAAS,CACV;YACDC,MAAM,CAACC,SAAS,GAAG,cAAc;YACjCD,MAAM,CAACE,gBAAgB,CAAC,OAAO,EAAE1B,WAAW,CAAC;YAC7CU,OAAO,CAACiB,WAAW,CAACH,MAAM,CAAC;YAC3B,OAAOd,OAAO;UAChB,CAAC;UACDkB,WAAW,EAAE,MAAM;QACrB,CAAC,CAAC;QAEF/B,MAAM,CAACgC,SAAS,CAAC;UACfC,EAAE,EAAE,cAAc;UAClBC,KAAK,EAAE,mBAAmB;UAC1BC,WAAW,EAAE,EAAE;UACfC,YAAY,EAAE,IAAI;UAClBC,iBAAiB,EAAE,IAAI;UACvBC,kBAAkB,EAAE,cAAc;UAClCC,gBAAgB,EAAE,CAAC;UACnBC,GAAG,EAAErC;QACP,CAAC,CAAC;MACJ;IAAE;MAAA;MAAA;MAAA;IAAA;EACF;IAAA;IAAA;IAAA;EAAA,QACE;AAEV;AAAC,KA1EQb,MAAM;AA4Ef,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}